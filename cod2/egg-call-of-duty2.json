{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY FOR PELICAN PANEL - CALL OF DUTY 2",
    "meta": {
        "version": "PTDL_v2",
        "update_url": null
    },
    "exported_at": "2024-10-31T12:45:00+00:00",
    "name": "Call of Duty 2",
    "author": "user-request@adapter",
    "uuid": "a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890",
    "description": "Ein dedizierter Server für Call of Duty 2 für das Pelican Panel. Verwendet die native Linux-Version und installiert alle Abhängigkeiten automatisch.",
    "features": [],
    "docker_images": {
        "Debian 12": "debian:bookworm-slim"
    },
    "file_denylist": [],
    "startup": "./cod2_lnxded_1.3 +set dedicated 2 +set net_ip 0.0.0.0 +set net_port {{SERVER_PORT}} +set sv_hostname \"{{SERVER_HOSTNAME}}\" +set sv_maxclients {{MAX_PLAYERS}} +set g_gametype {{GAMETYPE}} +set g_password \"{{SERVER_PASSWORD}}\" +map {{STARTUP_MAP}} +exec server.cfg",
    "config": {
        "files": "{}",
        "startup": "{\n    \"done\": \"Hitch warning:\"\n}",
        "logs": "{}",
        "stop": "quit"
    },
    "scripts": {
        "installation": {
            "script": "#!/bin/bash\n# Pelican Panel - Call of Duty 2 Installation Script\n\n# Füge i386-Architektur für 32-Bit-Anwendungen hinzu\ndpkg --add-architecture i386\n\napt-get update -y\n\necho \"-----------------------------------------\"\necho \"Installiere Abhängigkeiten... (wget, xz, 32-bit libs)\"\necho \"-----------------------------------------\"\napt-get install -y --no-install-recommends wget xz-utils lib32gcc-s1 ca-certificates\n\nif [ ! -d /mnt/server ]; then\n    mkdir -p /mnt/server/\nfi\n\ncd /mnt/server/\n\necho \"-----------------------------------------\"\necho \"Lade Call of Duty 2 Server herunter...\"\necho \"-----------------------------------------\"\n\nwget -qO server.tar.xz \"${DOWNLOAD_URL}\"\n\n\necho \"-----------------------------------------\"\necho \"Entpacke Server-Dateien...\"\necho \"-----------------------------------------\"\n# --strip-components=1 entfernt das übergeordnete Verzeichnis aus dem Archiv\ntar -xf server.tar.xz --strip-components=1\n\nrm server.tar.xz\n\n# Setze Ausführungsrechte für die Server-Binary\nchmod +x ./cod2_lnxded_1.3\n\necho \"-----------------------------------------\"\necho \"Installation abgeschlossen.\"\necho \"-----------------------------------------\"",
            "container": "debian:bookworm-slim",
            "entrypoint": "bash"
        }
    },
    "variables": [
        {
            "name": "Server Download URL",
            "description": "Die direkte Download-URL zu den Call of Duty 2 Linux Server-Dateien (.tar.xz).",
            "env_variable": "DOWNLOAD_URL",
            "default_value": "http://linuxgsm.download/CallOfDuty2/cod2-lnxded-1.3-full.tar.xz",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|url"
        },
        {
            "name": "Server Name",
            "description": "Der Name deines Servers, wie er im Server-Browser angezeigt wird.",
            "env_variable": "SERVER_HOSTNAME",
            "default_value": "My CoD2 Pelican Server",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string"
        },
        {
            "name": "Startup Map",
            "description": "Die Karte, mit der der Server startet (z.B. mp_carentan, mp_toujane).",
            "env_variable": "STARTUP_MAP",
            "default_value": "mp_carentan",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string"
        },
        {
            "name": "Game Type",
            "description": "Der Spielmodus für die Start-Map (dm, tdm, sd, ctf, hq).",
            "env_variable": "GAMETYPE",
            "default_value": "tdm",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string"
        },
        {
            "name": "Max Players",
            "description": "Die maximale Anzahl an Spielern, die dem Server beitreten können.",
            "env_variable": "MAX_PLAYERS",
            "default_value": "20",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|integer"
        },
        {
            "name": "Server Password",
            "description": "Passwort zum Beitreten. Leer lassen für einen öffentlichen Server.",
            "env_variable": "SERVER_PASSWORD",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string"
        }
    ]
}
